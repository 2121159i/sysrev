{% extends 'sysrev/base.html' %}

{# Needed to load the script for retreiving document count #}
{% load staticfiles %}

{% block body_public %}
    <h1 class="page-header text-center">New Review</h1>

    <form class="form-signin" role="form" method="post" action="{% url 'add_review' %}">
        {% csrf_token %}

        <input class="form-control" id="id_title" name="title" type="text" placeholder="Enter review title" required/><br/>
        <input class="form-control" id="id_query" name="query_string" type="text" placeholder="Enter query" required/><br/>
        <textarea class="form-control" rows="6" id="review_info" name="description" type="text" placeholder="Enter description of the review here" required></textarea><br/>


        <img id="loading-icon" src="{% static 'images/loading.gif' %}">
        <span id="document-count"></span>

        <br/><br/>

        <button type="submit" data-toggle="modal" data-target=".bs-example-modal-sm" class="btn btn-lg btn-success">Create</button>

        <a href="{% url 'index' %}" class="btn btn-lg btn-danger">Discard</a>

    </form>


<!-- Small modal -->

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
        <h3 id="please_wait_text">Please wait, your query is being processed.</h3> <br/>
        <img src="../../static/images/please_wait_loading.gif" id="please_wait_img">
    </div>
  </div>
</div>


    <script src = "{% static 'js/loading.js' %}"></script>
    <script src="{% static 'js/get_document_count.js' %}" ></script>

{% endblock %}